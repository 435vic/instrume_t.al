{{> page/nav }}

<section class="section">
    <div class="container">
        <div class="columns is-centered">
            <div class="column is-8-tablet is-6-desktop">
                <h1 class="title">
                    {{#if create}}
                        Create New Instrument
                    {{else}}
                        Edit Instrument: {{instrument.name}}
                    {{/if}}
                </h1>

                <form method="post" id="instrument">
                    <div class="field">
                        <label for="name" class="label">Name</label>
                        <div class="control">
                            <input type="text" class="input" id="name" name="name" value="{{instrument.name}}" placeholder="Enter instrument name" required>
                        </div>
                    </div>

                    <div class="field">
                        <label for="description" class="label">Description</label>
                        <div class="control">
                            <textarea class="textarea" id="description" name="description" placeholder="Enter instrument description" rows="6" required>{{instrument.description}}</textarea>
                        </div>
                    </div>

                    <div class="field">
                        <label for="origin_date" class="label">Origin Date</label>
                        <div class="control">
                            <input type="text" class="input" id="origin_date" name="origin_date" value="{{instrument.origin_date}}" placeholder="e.g., 1739 or c. 1400">
                        </div>
                    </div>

                    <div class="field">
                        <label for="image_uri" class="label">Image URL</label>
                        <div class="control">
                            <input type="url" class="input" id="image_uri" name="image_uri" value="{{instrument.image_uri}}" placeholder="https://example.com/image.jpg">
                        </div>
                        <p class="help">Enter the URL of the instrument image</p>
                    </div>

                    {{#if error}}
                    <article class="message is-danger">
                        <div class="message-body">
                            {{error}}
                        </div>
                    </article>
                    {{/if}}

                    <div class="field is-grouped mt-5">
                        <div class="control">
                            <button class="button is-primary" id="submit">
                                <span class="icon">
                                    {{#if create}}
                                    <i class="fas fa-plus"></i>
                                    {{else}}
                                    <i class="fas fa-save"></i>
                                    {{/if}}
                                </span>
                                <span>
                                    {{#if create}}
                                        Create Instrument
                                    {{else}}
                                        Save Changes
                                    {{/if}}
                                </span>
                            </button>
                        </div>
                        <div class="control">
                            <a href="{{#if create}}/instruments{{else}}/instruments/{{instrument.id}}{{/if}}" class="button is-light">Cancel</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
